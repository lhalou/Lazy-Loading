## 什么是懒加载

懒加载也叫延迟加载，指的是在长网页中延迟加载图像，是一种很好优化网页性能的方式。用户滚动到它们之前，可视区域外的图像不会加载。长网页上使用延迟加载将使网页加载更快；在某些情况下，它还可以帮助减少服务器负载。常适用图片很多，页面很长的电商网站场景中。

## 为什么要用懒加载

- 能提升用户提现
- 减少无效资源的加载
- 防止并发资源加载过多会影响JS的加载

## 图片懒加载原理

首先将页面上的图片的 src 属性设为空字符串，而图片的真实路径则设置在data-src属性中，当页面滚动的时候需要去监听scroll事件，判断是否进入可视区域及图片是否加载。如果图片进入可视区域，并且未加载，则使src的值等于data-src的值，是图片加载。
```
$(window).on('scroll',function(){
  $('.container img').each(function(){
          //img出现在窗口并且未加载 ，则加载img
          if(checkShow($(this)) && !isLoaded($(this))){
              loadImg($(this));
          }
      });
})
```

## 项目优化

1. 打开页面即还没有发生滚动事件时，页面就有图片展示。
  解决办法：在触发滚动事件之前执行以下代码
  ```
   $('.container img').each(function(){
          //img出现在窗口并且未加载 ，则加载img
          if(checkShow($(this)) && !isLoaded($(this))){
              loadImg($(this));
          }
      });
  ```
 2. 浏览器性能优化：因为用户进行一次滚动页面，代码代码会执行很多次，所以防止性能消耗，使用定时器setTimeout();



